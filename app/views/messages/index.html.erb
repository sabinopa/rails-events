<h2 class="text-primary fw-bolder mb-0"><%= t('views.index.message_client', name: @order.client.name) %></h2>

<% if @messages.present? %>
  <% @messages.each do |message| %>
    <p>
      <strong><%= message.sender.name %> (<%= t("class_names.#{message.sender.class.name}") %>):</strong>
      <%= message.body %><br>
      <%= l(message.created_at, format: :custom) %>
    </p>
  <% end %>
<% else %>
  <p><%= t('views.index.no_messages') %></p>
<% end %>

<h3 class="order-title mb-2"><%= t('views.index.write_message') %></h3>

<%= form_with model: [@order, Message.new], local: true do |form| %>
  <%= form.hidden_field :order_id, value: @order.id %>
  <div>
    <%= form.text_area :body, required: true, placeholder: t('views.index.write_here') %>
  </div>
  <div>
    <%= form.submit t('helpers.submit.send') %>
  </div>
<% end %>

